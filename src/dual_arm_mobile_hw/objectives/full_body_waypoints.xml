<?xml version="1.0" encoding="UTF-8" ?>
<root BTCPP_format="4" main_tree_to_execute="Full Body Waypoints">
  <!--//////////-->
  <BehaviorTree ID="Full Body Waypoints" _description="" _favorite="false">
    <Control ID="Sequence" name="TopLevelSequence">
      <Control ID="Sequence" name="">
        <Action
          ID="RetrieveWaypoint"
          joint_group_name="full_manipulator"
          waypoint_joint_state="{look_joint_state}"
          waypoint_name="Look"
        />
        <Action
          ID="RetrieveWaypoint"
          waypoint_joint_state="{reach_joint_state}"
          waypoint_name="Reach"
          joint_group_name="full_manipulator"
        />
        <Action
          ID="SetAdmittanceParameters"
          admittance_parameters_msg="{admittance_parameters_msg}"
          config_file_name="admittance_parameters_no_admittance.yaml"
        />
        <Action
          ID="ActivateControllers"
          controller_names="/left_full_trajectory_admittance_controller"
        />
      </Control>
      <Decorator ID="Repeat" num_cycles="3">
        <Control ID="Sequence">
          <Action
            ID="PlanToJointGoal"
            acceleration_scale_factor="1.000000"
            joint_goal="{look_joint_state}"
            joint_trajectory_msg="{joint_trajectory_msg}"
            keep_orientation="false"
            keep_orientation_link_names="grasp_link"
            keep_orientation_tolerance="0.1"
            link_padding="0.000000"
            max_iterations="5000"
            planning_group_name="full_manipulator"
            seed="0"
            trajectory_sampling_rate="100"
            velocity_scale_factor="0.2"
          />
          <Action
            ID="ExecuteTrajectoryWithAdmittance"
            absolute_force_torque_threshold="45;45;45;10;10;10"
            admittance_parameters_msg="{admittance_parameters_msg}"
            goal_duration_tolerance="-1.000000"
            goal_position_tolerance="0.001000"
            joint_trajectory_msg="{joint_trajectory_msg}"
            controller_action_name="/left_full_trajectory_admittance_controller/follow_joint_trajectory"
            path_position_tolerance="1.0"
          />
          <Action
            ID="PlanToJointGoal"
            acceleration_scale_factor="1.000000"
            joint_goal="{reach_joint_state}"
            joint_trajectory_msg="{joint_trajectory_msg}"
            keep_orientation="false"
            keep_orientation_link_names="grasp_link"
            keep_orientation_tolerance="0.1"
            link_padding="0.000000"
            max_iterations="5000"
            planning_group_name="full_manipulator"
            seed="0"
            trajectory_sampling_rate="100"
            velocity_scale_factor="0.2"
          />
          <Action
            ID="ExecuteTrajectoryWithAdmittance"
            absolute_force_torque_threshold="45;45;45;10;10;10"
            admittance_parameters_msg="{admittance_parameters_msg}"
            goal_duration_tolerance="-1.000000"
            goal_position_tolerance="0.001000"
            joint_trajectory_msg="{joint_trajectory_msg}"
            controller_action_name="/left_full_trajectory_admittance_controller/follow_joint_trajectory"
            path_position_tolerance="1.0"
          />
        </Control>
      </Decorator>
    </Control>
  </BehaviorTree>
  <TreeNodesModel>
    <SubTree ID="Full Body Waypoints">
      <MetadataFields>
        <Metadata runnable="true" />
      </MetadataFields>
    </SubTree>
  </TreeNodesModel>
</root>
